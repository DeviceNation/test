Java.perform(function () {
    console.log("Enumerating camera-related classes and methods...");

    // Helper function to check if the class is related to the camera
    function isCameraRelated(className) {
        // Lowercase to make the check case-insensitive
        var lowerCaseClassName = className.toLowerCase();
        return lowerCaseClassName.includes("camera");
    }

    // Enumerate all loaded classes
    Java.enumerateLoadedClasses({
        onMatch: function (className) {
            // Filter for camera-related classes
            if (isCameraRelated(className)) {
                console.log("Found camera-related class: " + className);

                // Use reflection to inspect its methods
                try {
                    var cls = Java.use(className);
                    cls.class.getDeclaredMethods().forEach(function (method) {
                        console.log(" - " + method);
                    });
                } catch (e) {
                    console.error("Could not access class " + className + ": " + e.message);
                }
            }
        },
        onComplete: function () {
            console.log("Camera class enumeration complete.");
        }
    });
});